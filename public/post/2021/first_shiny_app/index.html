<!DOCTYPE html>

<html lang="en">
<head>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-4BW3ZE1JE8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4BW3ZE1JE8');
</script>

<title>My first shiny app | R with White Dwarf</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/RWD-apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/RWD-favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/RWD-favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest" />
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5" />
    <link rel="shortcut icon" href="/favicon/RWD-favicon.ico" />
    <meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="R with White Dwarf | My first shiny app" />
    
    
        
        <link rel="stylesheet" href="https://blog.rwhitedwarf.com/css/styles.min.e6ae6b5ab7178a9872cec39597f3ca522b6efab7d2605fc36b5d3ede12a4c9c3.css">
    
    <link href="/css/blonde.min.css" rel="stylesheet" type="text/css" media="print"
          onload="this.media='all'">
    



<meta name="description" content="Shiny app to make dynamic maps">
<meta property="og:site_name" content="R with White Dwarf">
<meta property="og:description" content="Shiny app to make dynamic maps">
<meta property="og:url" content="https://blog.rwhitedwarf.com/post/2021/first_shiny_app/">
<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="">

<link rel="canonical" href="https://blog.rwhitedwarf.com/post/2021/first_shiny_app/">

<meta name="twitter:description" content="Shiny app to make dynamic maps">
<meta property="article:published_time" content="2021-12-20T00:00:00&#43;00:00">
<meta property="article:updated_time" content="2021-12-20T00:00:00&#43;00:00">





    
<meta property="og:image" content="https://blog.rwhitedwarf.com/post/2021/first_shiny_app/02-Mexico.png">
<meta property="og:image:url" content="https://blog.rwhitedwarf.com/post/2021/first_shiny_app/02-Mexico.png">
    

    
    <link rel="stylesheet" href="/css/custom.css">
    <i class="dark hidden"></i>
    </head>
<body class="font-sans">
    <div class="min-h-screen flex flex-col bg-gray-100 dark:bg-warmgray-800"><div class="bg-blue-900">
    <div class="container max-w-screen-xl mr-auto ml-auto">
        <nav class="flex items-center justify-between flex-wrap bg-blue-900 p-6">
            <div class="flex items-center flex-no-shrink bg-blue-900 text-white mr-6">
                <a href="https://blog.rwhitedwarf.com"><span class="font-semibold text-2xl tracking-tight">R with White Dwarf</span></a>
            </div>
            <div class="flex md:hidden">
                <div class="py-2">
                    <button onclick="toggleDarkMode()" class="focus:outline-none mr-1" aria-label="Darkmode Toggle Button"><i id="icon"
                            class="icon-moon inline-flex align-middle leading-normal text-lg text-white"></i></button>
                    <span class="text-white">|</span>
                </div>
                <button id="hamburgerbtn" class="flex items-center px-3 py-1 text-white hover:opacity-50" aria-label="Hamburger Button">
                    <span class="icon-menu text-2xl"></span>
                </button>
            </div>
            <div class="hidden w-full md:flex md:flex-row sm:items-center md:w-auto" id="mobileMenu">
                <div class="text-sm lg:flex-grow">
                </div>
                <div class="navmenu">
                    
                    <a href="/"
                        class="no-underline duration-200 block mt-4 sm:inline-block sm:mt-0 text-white hover:opacity-50 mr-4">
                        Home
                    </a>
                    
                    <a href="/about/"
                        class="no-underline duration-200 block mt-4 sm:inline-block sm:mt-0 text-white hover:opacity-50 mr-4">
                        About
                    </a>
                    
                    <a href="/archives/"
                        class="no-underline duration-200 block mt-4 sm:inline-block sm:mt-0 text-white hover:opacity-50 mr-4">
                        Archives
                    </a>
                    
                </div>
                <div class="text-white invisible md:visible">
                    <span>|</span>
                    <button onclick="toggleDarkMode()" class="focus:outline-none" aria-label="Darkmode Toggle Button"><i id="icon2"
                            class="icon-moon hover:opacity-50 duration-200 inline-flex align-middle leading-normal text-lg ml-2"></i></button>
                </div>
            </div>
        </nav>
    </div>
</div>
<style>
    .active {
        display: block;
    }
</style>

<script>
    let hamburger = document.getElementById('hamburgerbtn');

    let mobileMenu = document.getElementById('mobileMenu');

    hamburger.addEventListener('click', function () {
        mobileMenu.classList.toggle('active');
    });
</script>
<div class="container max-w-screen-xl mx-auto mt-4 flex-grow px-5 lg:px-0" id="content">
            <div class="lg:mx-5">
<div class="grid grid-cols-3 gap-4">
    
    <div class="col-span-3 lg:col-span-2 dark:text-white">
    
        <div class="bg-white dark:bg-warmgray-900 p-5 my-4">
            <h1 class="title text-4xl">My first shiny app</h1>
            <hr class="my-2">
            <aside id="meta">
                <div>
                    <section>
                        <h4 id="date"><span class="icon-access_time mr-2"></span>2021/12/20 </h4>
                    </section>
                    
                    <div id="tags">
                        <span class="icon-local_offer mr-1"></span>
                        
                        <a href="https://blog.rwhitedwarf.com/tags/r-shiny">R shiny</a> |
                        
                    </div>
                    
                </div>
            </aside>
            <hr class="my-2">
            
            <img class="py-4" src="https://blog.rwhitedwarf.com/post/2021/first_shiny_app/02-Mexico.png">
            
            <div class="content mt-5"><p>I am happy and excited as I have just deployed my first shiny app on the web. You can find it running at <a href="http://shiny.rwhitedwarf.com">shiny.rwhitedwarf.com</a> (NOTE: I don&rsquo;t have ssl certificate so, your browser might tell you that is not secure, but you can trust me that there&rsquo;s no risk). I have created a few shiny apps in the past but I never deployed one, especially in an owned domain.</p>
<p>The app can create a map of all cities listed in a table for a given country. The idea is to simulate a table with a list of organizations, franchises, shops, etc. However, columns for name of organization or ID are missing in order to ensure data protection. In this way the user only needs to provide to the table name of the city, country, region (optional) and year of opening. The app creates the map, placing bigger dots in cities with more organizations. The year is interactive.</p>
<p><br>
<img src="/post/2021/first_shiny_app/03-italy.png" alt="Map of Italy">
<img src="/post/2021/first_shiny_app/04-log.png" alt="Log"></p>
<p><br>
The app uses the package <a href="https://github.com/duncantl/RJSONIO">RJSONIO</a> to do a simple web scrapping on <a href="https://www.openstreetmap.org/">Open Street Maps</a> using its API <a href="https://nominatim.org/">Nominatim</a> to obtain the coordinates (latitude and longitude), in this way any city that can be found in open street maps can be pointed in the map. The data is then sorted and cleaned with some basic R functions and some <a href="https://www.tidyverse.org/">Tidyverse</a> and finally the map is made with <a href="https://ggplot2.tidyverse.org/">ggplot2</a> and <a href="https://cran.r-project.org/web/packages/maps/index.html">maps</a>. The front end is created of course with <a href="https://shiny.rstudio.com/">shiny</a> and <a href="https://www.w3schools.com/css/">css</a> but I have to mention also the use of <a href="https://jrowen.github.io/rhandsontable/">rhandsontable</a>, a wonderful package that allows the user to interact with the tables and therefore, the data. The app was very easily deployed in <a href="https://www.heroku.com/">heroku</a> thanks to the wonderful work of Chris Stefano who did all the hard work of creating a <a href="https://github.com/virtualstaticvoid/heroku-buildpack-r">buildpack</a> for applications written in R. The buildpack recognizes shiny and plumber apps. For shiny, it builds based on the <code>run.R</code> file and installs all the packages listed in <code>init.R</code>, making the deployment in heroku extremely easy.</p>
<p>The app is still in a raw state but already functional. The plan is to improve both, the functionality and the view in the following days. If you are interested in the source code to get inspiration or create your own, you can find it on github under the MIT license: <a href="https://github.com/teotenn/dynamic_maps_shiny">teotenn/dynamic_maps_shiny</a>.</p>
<p>If you want to learn how to make a similar shiny app, stay connected for a 3-4 part tutorial to get full details step by step.</p>
<p><br>
<img src="/post/2021/first_shiny_app/01-empty-app.png" alt="Empty app"></p>
</div>
            <aside id="meta">
                
                <hr class="py-2">
                <div id="categories">
                    <span class="icon-folder text-xl mr-1"></span>
                    
                    <span
                        class="inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-200 justify-center h-8 px-3 text-blue-500 duration-200 hover:text-black dark:bg-warmgray-800"><a
                            href="https://blog.rwhitedwarf.com/categories/r">R</a></span>
                    
                </div>
                
            </aside>
            </div>
        <div class="bg-white dark:bg-warmgray-900 p-5 my-4">
            <div class="grid grid-cols-2">
                <div class="col-span-1">
                    
                    <a class="previous lg:text-2xl" href="https://blog.rwhitedwarf.com/post/2021/fill_merged_cells/">
                        <div
                            class="transition-colors duration-300 border border-gray-600 hover:border-black h-auto m-3 text-center py-3 lg:py-1">
                            <span class="icon-keyboard_arrow_left"></span> R function to fill in merged cells
                        </div>
                    </a>
                    
                </div>
                
                <a class="next lg:text-2xl" href="https://blog.rwhitedwarf.com/post/2022/minitut_makebool/">
                    <div
                        class="transition-colors duration-300 col-span-1 border border-gray-600 hover:border-black h-auto m-3 text-center py-3 lg:py-1">
                        Minitutorial: make_logical any string <span class="icon-keyboard_arrow_right"></span>
                    </div>
                </a>
                
            </div>
        </div>
        <div class="bg-white dark:bg-warmgray-900 p-5 my-4">
          <div class="mb-3">
              <script src="https://utteranc.es/client.js"
        repo="RWhiteDwarf/blog"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

            </div>
        </div>
    </div>
    
    <div class="hidden lg:block lg:col-span-1">
        <div class="mb-3">
    <form class="widget-search__form" role="search" method="get" action="https://google.com/search">
        <label>
            <input class="w-full p-3 focus:outline-none dark:bg-warmgray-900 dark:text-white placeholder-gray-700 dark:placeholder-gray-300" type="search"
                placeholder="Search..." value="" name="q" aria-label="Search">
        </label>
        <input class="hidden" type="submit" value="Search">
        <input type="hidden" name="sitesearch" value="https://blog.rwhitedwarf.com" />
    </form>
</div>
        
<div class="bg-white panel mb-3 dark:bg-warmgray-900">
    <p class="text-xl text-center text-gray-700 py-3 pl-3 dark:text-gray-300">Tags</p>
    <div class="panel-block p-2">
        <a href="/tags/code-visuals">
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                code-visuals
            </span></a>
        <a href="/tags/ggplot2">
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                ggplot2
            </span></a>
        <a href="/tags/minitutorial">
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                minitutorial
            </span></a>
        <a href="/tags/r-basics">
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                r-basics
            </span></a>
        <a href="/tags/r-functions">
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                r-functions
            </span></a>
        <a href="/tags/r-maps">
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                r-maps
            </span></a>
        <a href="/tags/r-shiny">
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                r-shiny
            </span></a>
        <a href="/tags/r-tips">
            <span
                class="duration-100 inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-100 justify-center h-8 px-3 text-blue-500 hover:text-blue-900 dark:bg-warmgray-800">
                r-tips
            </span></a>
    </div>
</div>

        

<div class="bg-white panel mb-3 pb-5 dark:bg-warmgray-900">
    <p class="text-xl text-center text-gray-700 py-5 dark:text-gray-300">Recent Posts</p>
    <div class="mx-6">
        
        <a href="/post/2021/functions/" class="">
            <div class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
                <div class="px-2">
                    <div class="text-gray-900 font-bold text-xl dark:text-white">Functions in R</div>
                    <p class="text-sm text-gray-600 flex items-center pb-1 dark:text-gray-400">
                        <time><span class="icon-access_time mr-1"></span>2021/11/30</time>
                    </p>
                </div>
            </div>
        <a href="/post/2022/map_any_region_with_ggplot2_part_i/" class="">
            <div class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
                <div class="px-2">
                    <div class="text-gray-900 font-bold text-xl dark:text-white">Map any region in the world with R - Part I: The basic map</div>
                    <p class="text-sm text-gray-600 flex items-center pb-1 dark:text-gray-400">
                        <time><span class="icon-access_time mr-1"></span>2022/10/04</time>
                    </p>
                </div>
            </div>
        <a href="/post/2022/minitut_makebool/" class="">
            <div class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
                <div class="px-2">
                    <div class="text-gray-900 font-bold text-xl dark:text-white">Minitutorial: make_logical any string</div>
                    <p class="text-sm text-gray-600 flex items-center pb-1 dark:text-gray-400">
                        <time><span class="icon-access_time mr-1"></span>2022/09/18</time>
                    </p>
                </div>
            </div>
        <a href="/post/2021/fill_merged_cells/" class="">
            <div class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
                <div class="px-2">
                    <div class="text-gray-900 font-bold text-xl dark:text-white">R function to fill in merged cells</div>
                    <p class="text-sm text-gray-600 flex items-center pb-1 dark:text-gray-400">
                        <time><span class="icon-access_time mr-1"></span>2021/12/05</time>
                    </p>
                </div>
            </div>
        <a href="/post/2021/first_shiny_app/" class="">
            <div class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
                <div class="px-2">
                    <div class="text-gray-900 font-bold text-xl dark:text-white">My first shiny app</div>
                    <p class="text-sm text-gray-600 flex items-center pb-1 dark:text-gray-400">
                        <time><span class="icon-access_time mr-1"></span>2021/12/20</time>
                    </p>
                </div>
            </div>
        </a>
    </div>
</div>
	<div class="bg-white panel mb-3 pb-5 dark:bg-warmgray-900">
  <p class="text-xl text-center text-gray-700 py-5 dark:text-gray-300">External links</p>
  
    <a href="https://www.r-project.org/" class="">
      <div class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
        <div class="px-2">
          <div class="text-gray-900 font-bold text-xl dark:text-white">R-project</div>
          <p class="text-sm text-gray-600 flex items-center pb-1 dark:text-gray-400">Official website of R
          </p>
        </div>
      </div>
    </a>

    <a href="https://www.r-bloggers.com/" class="">
      <div class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
        <div class="px-2">
          <div class="text-gray-900 font-bold text-xl dark:text-white">R-bloggers</div>
          <p class="text-sm text-gray-600 flex items-center pb-1 dark:text-gray-400">Hundreds of bloggers empowering R users
          </p>
        </div>
      </div>
    </a>

    <a href="https://github.com/" class="">
      <div class="w-full block mt-3 bg-white hover:bg-gray-100 duration-200 dark:bg-warmgray-900 dark:text-gray-200 dark:hover:bg-warmgray-800">
        <div class="px-2">
          <div class="text-gray-900 font-bold text-xl dark:text-white">Github</div>
          <p class="text-sm text-gray-600 flex items-center pb-1 dark:text-gray-400">Platform to build, ship, maintain and share code and software
          </p>
        </div>
      </div>
    </a>
</div>

	<div class="bg-white panel mb-3 pb-5 dark:bg-warmgray-900">
    <p class="text-xl text-center text-gray-700 py-3 px-3 dark:text-gray-300">Archives</p>
    
    
    <a class="text-center block duration-100 py-2 px-4 mx-4 hover:bg-gray-100 text-gray-800 dark:text-gray-200 dark:hover:bg-warmgray-800"
        href="https://blog.rwhitedwarf.com/archives/2021">2021 (3)</a>
    
    <a class="text-center block duration-100 py-2 px-4 mx-4 hover:bg-gray-100 text-gray-800 dark:text-gray-200 dark:hover:bg-warmgray-800"
        href="https://blog.rwhitedwarf.com/archives/2022">2022 (2)</a>
    
    
</div>
        
<div class="bg-white panel mb-3 pb-5 dark:bg-warmgray-900">
    <p class="text-xl text-center text-gray-700 py-5 dark:text-gray-300">Categories</p>
    
    <a class="text-center block duration-100 py-2 px-4 mx-4 hover:bg-gray-100 text-gray-800 dark:text-gray-200 dark:hover:bg-warmgray-800"
        href="https://blog.rwhitedwarf.com/categories/r">R</a>

    
</div>

    </div>
    
</div>

            </div>
        </div><footer class="bg-blue-900 text-white p-6">
    
    <div class="container max-w-screen-xl mr-auto ml-auto">
        <p>&copy; 2022 <a href="https://blog.rwhitedwarf.com" class="duration-200 hover:opacity-50">R with White Dwarf</a></p>
        <p>Powered by <a href="https://gohugo.io/" class="duration-200 hover:opacity-50">Hugo</a>, Theme <a
                href="https://github.com/opera7133/Blonde" class="duration-200 hover:opacity-50">Blonde</a>.</p>
    </div>
    <script>
        var icon = document.getElementById("icon");
        var icon2 = document.getElementById("icon2");
        
        if (document.documentElement.classList.contains("dark") || localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          icon.classList.remove("icon-moon");
          icon.classList.add("icon-sun");
          icon2.classList.remove("icon-moon");
          icon2.classList.add("icon-sun");
          document.documentElement.classList.add('dark')
        } else {
          document.documentElement.classList.remove('dark')
        }
        function toggleDarkMode() {
        if (document.documentElement.classList.contains('dark')) {
            icon.classList.remove("icon-sun");
            icon.classList.add("icon-moon");
            icon2.classList.remove("icon-sun");
            icon2.classList.add("icon-moon");
            document.documentElement.classList.remove('dark')
            localStorage.theme = 'light'
        } else {
            icon.classList.remove("icon-moon");
            icon.classList.add("icon-sun");
            icon2.classList.remove("icon-moon");
            icon2.classList.add("icon-sun");
            document.documentElement.classList.add('dark')
            localStorage.theme = 'dark'
        }
    }
    </script>
</footer>
</div>
</body>

</html>
